# Архитектура компиляторов

## Чем отличается компилятор от интерпретатора?

### Основные различия

| Характеристика          | Компилятор                                  | Интерпретатор                         |
|-------------------------|---------------------------------------------|---------------------------------------|
| **Обработка кода**      | Полный перевод в машинный код до выполнения | Покомандное выполнение исходного кода |
| **Время трансляции**    | Происходит заранее                          | Происходит во время выполнения        |
| **Выходной файл**       | Создаёт исполняемый файл                    | Не создаёт отдельного файла           |
| **Скорость выполнения** | Высокая                                     | Низкая                                |
| **Отладка**             | Сложнее                                     | Проще                                 |

## В чём преимущества компилятора перед интерпретатором?

1. Производительность: скомпилированный код обычно выполняется быстрее, так как уже настроен под конкретную машину
2. Безопасность: исходный код скрыт от пользователя, а машинный код достаточно тяжело дизассемблировать
3. Доступность: нужен исполняемый файл и его исходники, не надо дополнительно устанавливать среду выполнения

## Чем отличаются компилятор в машинный код и в байткод виртуальной машины?

### Машинный код

```
Исходный код → (Компиляция) → Машинный код
```

- Выполняется напямую процессором
- Привязан к архитектуре (x86, ARM, etc.)
- Дает максимальную производительность

### Байткод виртуальной машины

```
Исходный код → (Компиляция) → Байткод → (Виртуальная машина) → Машинный код
```

- Даёт промежуточное представление, которое понимает виртуальная машина
- Байткод — слой абстракции, независимый от платформы
- ВМ переводит байт код в машинный под конкретную архитектуру, что дает кроссплатфоменность
- Java (JVM), C# (.NET)

### Сравнение подходов

| Критерий          | Машинный код | Байткод               |
|-------------------|--------------|-----------------------|
| **Скорость**      | Максимальная | Высокая (с JIT)       |
| **Портативность** | Низкая       | Высокая               |
| **Размер файла**  | Компактный   | Больше                |
| **Безопасность**  | Базовая      | Расширенная (sandbox) |

## Вопросы
1. UML диаграмма mermaid для работы интерпретатора cpython с фазами fast-компиляции и roslyn компилятор c#
2. где, когда и зачем появился виртуальная машина с байткодом и для какого языка
3. кому помогает кроссплатформенность виртуальной машины (аргументация pascal машины и jvm)