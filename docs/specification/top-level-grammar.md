# Грамматика программы языка MysticGameScript
## 1. Примеры кода
```
dayzint x; # инициализируется значением по умолчанию = 0

funkotron printInt(dayzint value)
{
    exodus(value);
}

maincraft()
{
    iffy (ready) {
        dayzint x = 5;
        printInt(x); # выведет 5
    }
    printInt(x); # выведет 0
}
```

```
iffy (ready) {
    dayzint x = 10;
    exodus(x); # выведет 10

    iffy (ready) {
        dayzint x = 100;
        exodus(x); # выведет 100
    }

    exodus(x); # выведет 10
}
```

## 2. Ключевые особенности и семантические правила языка
### 1. Структура программы 
Программа располагается в одном файле
Программа состоит из глобальных переменных, функций и точки входа `maincraft`, внутри которой находятся инструкции

### 2. Область действия 
Область действия объявленных переменных и констант ограничивается блоком кода, обёрнутым в фигурные скобки
Поддерживаются глобальные переменные и константы, объявленные до главной функции `maincraft`
Обращение к переменным и константам происходит изначально к текущей области видимости, затем к родительской, затем к глобальной
Функция ограничивается только своей и глобальной областью видимости (т.е. нет родительской области видимости)

### 3. Переменные и константы 
Поддерживаются неизменяемые константы 
Поддерживаются изменяемые переменные 
Для объявления константы перед её типом добавляется ключевое слово `monument`
Повторное объявление переменной или константы с тем же именем в рамках одной области видимости считается ошибкой

Если при объявлении не присвоили переменной или константе значение, она создаётся со значением по умолчанию
| Тип     | Значение по умолчанию |
| ------- | --------------------- |
| dayzint | 0                     |
| fallout | 0.0                   |
| statum  | noready               |
| strike  | ""                    |

### 4. Ввод/вывод 
Ввод и вывод организуется с помощью встроенных функций
raid(x) - для ввода
exodus(x) - для вывода
exodusln(x) - для вывода с переносом строки (\n)

### 5. Виды инструкций
Не любое выражение является инструкцией
Основные инструкции:
* Объявление переменной
* Объявление константы
* Присваивание
* Условная инструкция
* Цикл while
* Цикл for
* Вызов функции
* Вызов встроенной функции
* Возврат из функции
* Прерывание цикла

### 6. Разделитель инструкций
Разделителем инсрукций является символ `;` (точка с запятой)
Разделитель не используется в конце циклов, условий, объявления_функций

## 3. Грамматика в виде EBNF

### Программа
* программа = {глобальная_инструкция}, точка_входа;
* точка_входа = "maincraft", "(", ")", блок_функции;

* глобальная_инструкция = объявление_переменной | объявление_константы | объявление_функции;
* инструкция_функции = объявление_переменной | объявление_константы | присваивание | условие 
              | цикл_while | цикл_for | вызов_функции | вызов_заложенной_функции | возврат;
* инструкция = инструкция_функции | прерывание_цикла;

* блок_функции = "{", {инструкция_функции}, "}";
* блок = "{", {инструкция}, "}";

### Объявления переменной и константы
* объявление_переменной = тип, идентификатор, ["=", выражение], ";";
* объявление_константы = "monument", тип, идентификатор, ["=", выражение], ";";





### Управляющие конструкции
* если = "iffy", "(", выражение, ")", блок;
* иначе_если = "elysiffy", "(", выражение, ")", блок;
* иначе = "elysian", блок;
* условие = если, {иначе_если}, [иначе];

* прерывание_цикла = "breakout", ";" | "contra", ";";
* цикл_while = "valorant", "(", выражение, ")", блок;
* цикл_for = "forza", "(", (объявление_переменной | присваивание), ";", выражение, ";", присваивание, ")", блок;

### Функции
* параметр = тип, идентификатор;
* список_параметров = параметр, {",", параметр};
* возврат = "returnal", [выражение], ";";
* объявление_функции = "funkotron", идентификатор, "(", [список_параметров], ")", [":", тип], блок_функции;
* вызов_функции = идентификатор, "(", [выражение, {",", выражение}], ")", ";";

* вызов_заложенной_функции = "min", "(", выражение, ",", выражение, {",", выражение}, ")" 
                     | "max", "(", выражение, ",", выражение, {",", выражение}, ")"
                     | "abs", "(", выражение ")"
                     | "round", "(", выражение ")"
                     | "ceil", "(", выражение ")"
                     | "floor", "(", выражение ")"
                     | "exodus", "(", выражение, ")"
                     | "exodusln", "(", выражение, ")"
                     | "raid", "(", идентификатор, ")";

### Комментарии
* однострочный_комментарий = "#", {символ};
* многострочный_комментарий = "\\\*", {символ}, "\*\\"